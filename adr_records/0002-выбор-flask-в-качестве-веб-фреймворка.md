# 1. Выбор Flask в качестве веб-фреймворка

Дата: 2025-11-26

## Статус

Принято

## Контекст

Необходимо выбрать веб-фреймворк для ML-сервиса классификации ирисов. Сервис должен предоставлять REST API для предсказаний, иметь эндпоинты для мониторинга здоровья и метрик, а также быть легковесным для контейнеризации.

## Рассмотренные варианты

### Вариант 1: Flask
- **Плюсы**: Минималистичный, прост в изучении, легковесный, гибкий
- **Минусы**: Меньше встроенных возможностей, требует дополнительных настроек для продакшена

### Вариант 2: FastAPI
- **Плюсы**: Автоматическая документация, высокая производительность, встроенная валидация
- **Минусы**: Более крутая кривая обучения, зависимость от Pydantic

### Вариант 3: Django
- **Плюсы**: Полнофункциональный, встроенная админка, ORM
- **Минусы**: Избыточный для микросервиса, тяжеловесный

## Решение

Выбрать Flask в качестве веб-фреймворка.

## Обоснование

1. **Простота и минимализм**: Flask позволяет быстро создать MVP без избыточного функционала
2. **Легковесность**: Небольшой размер образа важна для контейнеризации
3. **Гибкость**: Можно добавить только необходимые компоненты (Gunicorn для продакшена)
4. **Сообщество**: Широкая поддержка и множество расширений
5. **Достаточность**: Для задачи ML-инференса не требуются сложные возможности Django

## Последствия

### Положительные
- Быстрая разработка и развертывание
- Низкое потребление ресурсов
- Простота контейнеризации
- Легкость отладки и мониторинга

### Отрицательные
- Необходимость ручной настройки некоторых аспектов (CORS, валидация)
- Отсутствие автоматической документации API
- Требуется дополнительная настройка для продакшена (Gunicorn)

## Компромиссы

Пожертвовали автоматической документацией FastAPI ради простоты и минимализма Flask.